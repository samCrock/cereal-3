<ion-app>

  <ion-menu side="start" menuId="first" contentId="main">
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>TV Shows</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-item button [detail]="currentRoute === 'discover'" (click)="toggleMenu()"
                  [routerLink]="['/series', 'discover']">
          <ion-label [color]="currentRoute === 'discover' ? 'primary' : 'dark'">Discover</ion-label>
        </ion-item>
        <ion-item button [detail]="currentRoute === 'my-list'" (click)="toggleMenu()"
                  [routerLink]="['/series', 'my-list']">
          <ion-label [color]="currentRoute === 'my-list' ? 'primary' : 'dark'">My List</ion-label>
        </ion-item>
        <ion-item button [detail]="currentRoute === 'calendar'" (click)="toggleMenu()"
                  [routerLink]="['/series', 'calendar']">
          <ion-label [color]="currentRoute === 'calendar' ? 'primary' : 'dark'">Calendar</ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-menu>

  <ion-header>

    <ion-toolbar class="ion-padding-horizontal draggable" [mode]="'ios'">
      <ion-buttons slot="start">
        <ion-button (click)="toggleMenu()">
          <ion-icon slot="icon-only" name="menu"></ion-icon>
        </ion-button>
      </ion-buttons>
      <ion-title class="ion-text-left" color="dark">{{ currentRoute.replace('-', ' ') | titlecase }}</ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="minimize()">
          <ion-icon name="remove-outline"></ion-icon>
        </ion-button>
        <ion-button (click)="close()">
          <ion-icon name="close"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>

    <ion-toolbar class="ion-padding-horizontal sub-nav" [mode]="'ios'">
      <ion-buttons slot="start" class="route-buttons">
        <ion-button (click)="navigateTo(['/series', 'discover'])">
          <ion-label>TV Shows</ion-label>
        </ion-button>
        <ion-button (click)="navigateTo(['/series', 'calendar'])">
          <ion-label>Calendar</ion-label>
        </ion-button>
      </ion-buttons>
      <ion-buttons slot="end" class="route-buttons">
        <ion-searchbar [showClearButton]="'never'" animated placeholder="Search Series" [(ngModel)]="searchString"
                       (ngModelChange)="searched = false" (search)="search()"></ion-searchbar>
        <ion-button (click)="search()" class="search-btn" *ngIf="!searched">
          <ion-icon slot="icon-only" name="search"></ion-icon>
        </ion-button>
        <ion-button (click)="searchString = ''; searched = false; search()" class="search-btn" *ngIf="searched">
          <ion-icon slot="icon-only" name="arrow-undo-outline"></ion-icon>
        </ion-button>
        <ion-button (click)="navigateTo(['/series', 'my-list'])">
          <ion-icon slot="icon-only" name="bookmark-outline"></ion-icon>
        </ion-button>
      </ion-buttons>

    </ion-toolbar>

  </ion-header>

  <ion-router-outlet id="main"></ion-router-outlet>

</ion-app>
